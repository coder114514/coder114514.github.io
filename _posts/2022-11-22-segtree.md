---
title: 线段树技巧：处理负数端点值
layout: posts
tags: OI notes
---

如果线段树端点值可以取负数，那么应该用$ mid = \left[ \frac{l+r-1}{2} \right] $计算中点

e.g.

如果 $l=-2$, $r=-1$

1. $mid = \left[ \frac{l+r-1}{2} \right] = -2 $ 正常
2. $mid = \left[ \frac{l+r}{2} \right] = -1 $ 死循环 (c++整除向0取整)
